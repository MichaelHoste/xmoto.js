<!DOCTYPE html>
<html lang="en" prefix="fb: http://www.facebook.com/2008/fbml">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>XMoto.js | HTML5 Port of XMoto</title>
    <meta name="description" content="Port of XMoto for the web using Canvas 2D, JavaScript (CoffeeScript) and Box2D">

    <meta name="author" content="MichaÃ«l Hoste">

    <link href="style.css" type="text/css" rel="stylesheet" >
    <link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

    <meta property="og:url"         content="http://js.xmoto.io" />
    <meta property="og:title"       content="XMoto.js - HTML5 Port of XMoto" />
    <meta property="og:description" content="Port of XMoto for the web using Canvas 2D, JavaScript (CoffeeScript) and Box2D" />
    <meta property="og:image"       content="http://js.xmoto.io/image_fb.jpg" />

    <link rel="icon" type="image/png" href="/favicon-96x96.png">
    <link rel="shortcut icon" href="/favicon.ico" />

    <!-- Analytics
    ================================================== -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32487253-5', 'xmoto.io');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="content">
      <div id="xmoto">
      </div>

      <div id="level">
        <div style="position: absolute; border: 2px solid black; width: 500px; height: 50px; top: 200px;left:20px;"></div>
      </div>

      <div id="levels_block" style="display:none">
        <select id="levels">
          <!-- SOME TEST LEVELS -->
          <option value="l1010.lvl">l1010.lvl</option>
          <option value="l1043.lvl">l1043.lvl</option>
          <option value="l1.lvl">l1.lvl</option>
          <option value="l2.lvl">l2.lvl</option>
          <option value="l3.lvl">l3.lvl</option>
          <option value="l4.lvl">l4.lvl</option>
          <option value="l5.lvl">l5.lvl</option>
          <option value="l7.lvl">l7.lvl</option>
          <option value="l1038.lvl">l1038.lvl</option>
          <option value="l74.lvl">l74.lvl</option>
          <option value="l1287.lvl">l1287.lvl</option>
          <option value="l1041.lvl">l1041.lvl</option>
          <option value="l1042.lvl">l1042.lvl</option>
        </select>
      </div>


      <div style="clear:both"></div>

      <a class="normal-button" href="#">
        normal mode
      </a>

      <div id="debug">
        <a class="debug-button" href="#">
          debug mode
        </a>

        <form class="debug" name="debug" method="get" action="">
          <div class="template">
            <label for="name_by_js">
              Name
            </label>
            <input id="name_by_js" type="text">
            <span class="delete">x</span>
            <div style="clear:both"></div>
          </div>
          <input type="submit" value="Submit">
        </form>

        <hr/>

        <div class="variables">
        </div>

        <hr/>

        <div class="more">
          <a href="https://github.com/MichaelHoste/xmoto.js/blob/master/src/constants.coffee">
            More details about these parameters
          </a>
        </div>

        <hr/>
      </div>
      <div style="clear:both"></div>
    </div>
    <div style="clear:both"></div>

    <script src="lib/jquery-1.10.2.js"       type="text/javascript"></script>
    <script src="lib/pixi-5.0.4.min.js"      type="text/javascript"></script>
    <script src="lib/Box2dWeb-2.1.a.3.js"    type="text/javascript"></script>
    <script src="lib/lz-string-1.3.3.min.js" type="text/javascript"></script>
    <script src="lib/purl-2.3.1.js"          type="text/javascript"></script>
    <script src="lib/stats.16.min.js"        type="text/javascript"></script>

    <script src="bin/xmoto.js"               type="text/javascript"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        var params = $.url().param()
        var options = { width: $(window).width(), height: $(window).height(), debug: params.debug == 'true' }

        // Change on select
        $("#levels").on('change', function(){ $.xmoto($(this).val(), options) })

        // level in URL params
        level = $.url().param('level')
        if(level) {
          $("#levels").val("l" + level + ".lvl")
        }

        // prev buttons
        $("#prev-level").on('click', function() {
          level_name = $("#levels option:selected").prev().prop('selected', true).val()
          level_name ? $.xmoto(level_name, options) : alert('This is the first level')
        })

        // next button
        $("#next-level").on('click', function() {
          level_name = $("#levels option:selected").next().prop('selected', true).val()
          level_name ? $.xmoto(level_name, options) : alert('This is the last level')
        })

        // initialize level
        $.xmoto($("#levels option:selected").val(), options)
      })
    </script>
  </body>
</html>

